{"version":3,"file":"static/js/761.9380ad99.chunk.js","mappings":"6MAwCA,UAlCgB,WACd,OAA8BA,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACMC,GAAYC,EAAAA,EAAAA,MAAZD,QAYN,OAVAE,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,IAAoBH,GACjBI,MAAK,SAAAN,GACJC,EAAWD,EACZ,IACAO,OAAM,SAAAC,GACLC,EAAAA,GAAAA,MAAYD,EAAIE,QACjB,GACJ,GAAE,CAACR,KAGF,yBACGF,EAAQW,QACP,wBACGX,EAAQY,KAAI,gBAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,QAAX,OACX,2BACE,6BACE,mCACCD,MAEH,uBAAIC,MALGD,EADE,OAWf,qEAIP,C,mMCrCKE,EAAU,mCACVC,EAAW,gCACXC,EAAkB,uDAClBC,EAAe,mCAERC,EAAiB,mCAAG,6FACzBC,EADyB,UAChBJ,EADgB,uCACuBD,GADvB,SAERM,EAAAA,EAAAA,IAAUD,GAFF,cAEzBE,EAFyB,yBAGxBA,EAASC,MAHe,2CAAH,qDAMjBC,EAAe,mCAAG,WAAMC,GAAN,gFACvBL,EADuB,UACdJ,EADc,iCACmBD,EADnB,kBACoCU,EADpC,uDAERJ,EAAAA,EAAAA,IAAUD,GAFF,cAEvBM,EAFuB,yBAGtBA,EAAOH,KAAKI,SAHU,2CAAH,sDAMfC,EAAY,mCAAG,WAAMC,GAAN,oFACpBT,EADoB,UACXJ,EADW,kBACOa,EADP,oBACqBd,GADrB,SAEHM,EAAAA,EAAAA,IAAUD,GAFP,uBAElBG,EAFkB,EAElBA,MACFG,EAASI,EAASP,IACjBQ,OAASL,EAAOK,OAAOnB,KAAI,SAAAoB,GAAK,OAAIA,EAAMC,IAAV,IAJb,kBAKnBP,GALmB,2CAAH,sDAQZQ,EAAmB,mCAAG,WAAML,GAAN,kFAC3BT,EAD2B,UAClBJ,EADkB,kBACAa,EADA,4BACsBd,GADtB,SAIvBM,EAAAA,EAAAA,IAAUD,GAJa,uBAGvBe,EAHuB,EAG/BZ,KAAQY,KAHuB,kBAK1BA,EAAKvB,IAAIwB,IALiB,2CAAH,sDAQnB/B,EAAmB,mCAAG,WAAMwB,GAAN,oFAC3BT,EAD2B,UAClBJ,EADkB,kBACAa,EADA,4BACsBd,GADtB,SAIvBM,EAAAA,EAAAA,IAAUD,GAJa,uBAGvBO,EAHuB,EAG/BJ,KAAQI,QAEJ3B,EAAU2B,EAAQf,KAAI,YAC1B,MAAO,CAAEC,OAD0C,EAAtBA,OACZC,QADkC,EAAdA,QAEtC,IAPgC,kBAQ1Bd,GAR0B,2CAAH,sDAW1B8B,EAAW,SAAAO,GACf,IAAIX,EAASY,OAAOC,OAAO,CAAC,EAAGF,GAQ/B,OAPIX,EAAOc,YACTd,EAAOc,YAActB,EAAeQ,EAAOc,YACxCd,EAAOc,YAAcvB,EAC1BS,EAAOe,aAAgBf,EAAOgB,aAE1BhB,EAAOgB,aAAaC,MAAM,EAAG,GAD7B,UAEJjB,EAAOkB,aAAP,UAA+C,GAAtBlB,EAAOkB,aAAhC,KACOlB,CACR,EAEKU,EAAU,SAAC,GAAkD,IAAhDS,EAA+C,EAA/CA,UAAWZ,EAAoC,EAApCA,KAAMa,EAA8B,EAA9BA,aAC5BC,EAAW,CAAEF,UAAAA,EAAWZ,KAAAA,EAAMe,UAD4B,EAAhBA,WAGhD,OADAD,EAASE,KAAOH,EAAe5B,EAAe4B,EAAe7B,EACtD8B,CACR,C","sources":["pages/Reviews/Reviews.js","services/api-service.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\n\nimport { getMovieReviewsById } from 'services/api-service';\n\nconst Reviews = () => {\n  const [reviews, setReviews] = useState([]);\n  let { movieId } = useParams();\n\n  useEffect(() => {\n    getMovieReviewsById(movieId)\n      .then(reviews => {\n        setReviews(reviews);\n      })\n      .catch(err => {\n        toast.error(err.message);\n      });\n  }, [movieId]);\n\n  return (\n    <div>\n      {reviews.length ? (\n        <ul>\n          {reviews.map(({ author, content }) => (\n            <li key={author}>\n              <span>\n                <p>Author:</p>\n                {author}\n              </span>\n              <p>{content}</p>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <p>We don't have any reviews for this movie</p>\n      )}\n    </div>\n  );\n};\nexport default Reviews;\n","import axios from 'axios';\n\nconst API_KEY = 'a2131ad5d6a3f97436f48b66c08b88ca';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst IMG_PLACEHOLDER = 'https://critics.io/img/movies/poster-placeholder.png';\nconst IMG_BASE_URL = 'https://image.tmdb.org/t/p/w500/';\n\nexport const getTrendingMovies = async () => {\n  const url = `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`;\n  const response = await axios.get(url);\n  return response.data;\n};\n\nexport const getSearchMovies = async query => {\n  const url = `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}&language=en-US&page=1&include_adult=false`;\n  const result = await axios.get(url);\n  return result.data.results;\n};\n\nexport const getMovieById = async id => {\n  const url = `${BASE_URL}/movie/${id}?api_key=${API_KEY}`;\n  const { data } = await axios.get(url);\n  const result = fixMovie(data);\n  result.genres = result.genres.map(genre => genre.name);\n  return result;\n};\n\nexport const getMovieCreditsById = async id => {\n  const url = `${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`;\n  const {\n    data: { cast },\n  } = await axios.get(url);\n  return cast.map(fixCast);\n};\n\nexport const getMovieReviewsById = async id => {\n  const url = `${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`;\n  const {\n    data: { results },\n  } = await axios.get(url);\n  const reviews = results.map(({ author, content }) => {\n    return { author, content };\n  });\n  return reviews;\n};\n\nconst fixMovie = movie => {\n  let result = Object.assign({}, movie);\n  if (result.poster_path)\n    result.poster_path = IMG_BASE_URL + result.poster_path;\n  else result.poster_path = IMG_PLACEHOLDER;\n  result.release_year = !result.release_date\n    ? 'Unknown'\n    : result.release_date.slice(0, 4);\n  result.vote_average = `${result.vote_average * 10}%`;\n  return result;\n};\n\nconst fixCast = ({ credit_id, name, profile_path, character }) => {\n  const newActor = { credit_id, name, character };\n  newActor.path = profile_path ? IMG_BASE_URL + profile_path : IMG_PLACEHOLDER;\n  return newActor;\n};\n"],"names":["useState","reviews","setReviews","movieId","useParams","useEffect","getMovieReviewsById","then","catch","err","toast","message","length","map","author","content","API_KEY","BASE_URL","IMG_PLACEHOLDER","IMG_BASE_URL","getTrendingMovies","url","axios","response","data","getSearchMovies","query","result","results","getMovieById","id","fixMovie","genres","genre","name","getMovieCreditsById","cast","fixCast","movie","Object","assign","poster_path","release_year","release_date","slice","vote_average","credit_id","profile_path","newActor","character","path"],"sourceRoot":""}